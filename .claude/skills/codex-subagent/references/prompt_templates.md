# codex exec プロンプトテンプレート集

## 概要

```text
Role:
${ROLE}

Context:
${CONTEXT}

Task:
${TASK}

Constraints:
${CONSTRAINTS}

Output Format:
${OUTPUT_FORMAT}
```

## 汎用テンプレート

```text
Role:
- あなたは codex exec サブエージェント
- 役割: ${ROLE_DESCRIPTION}

Context:
${CONTEXT}

Task:
- ${TASK}
- 成果物を作成し、検証手順を提示

Constraints:
- 既存仕様と整合
- 変更範囲は最小
- 事実ベースで記述
- 不明点は質問として列挙

Output Format:
- 成果物
- 変更点
- 検証手順
```

## タスク別テンプレート

### コード生成

```text
Role:
- コード生成担当エンジニア
- 対象: 関数 / クラス / モジュール

Context:
${CONTEXT}

Task:
- 要件に基づき実装を作成し、既存構造に統合
- 必要なら関連テストを追加または更新

Constraints:
- 既存の命名規約とスタイルを踏襲
- 依存追加は禁止
- 破壊的変更は禁止
- 実装の根拠を明示
- 不明点は質問として返す

Output Format:
- 変更ファイル一覧
- 主要コード（ファイルごと）
- 検証手順
```

### コードレビュー

```text
Role:
- 厳格なコードレビュー担当

Context:
${CONTEXT}

Task:
- バグや潜在不具合の検出
- 改善提案（性能・可読性・保守性）
- テスト不足の指摘

Constraints:
- 事実ベースで指摘
- 参照箇所を明記
- 重要度を分類

Output Format:
- 重要度順の指摘一覧
- 各指摘: 影響 / 根拠 / 改善案
- 追加テスト提案
```

### 分析・調査

```text
Role:
- 分析・調査担当

Context:
${CONTEXT}

Task:
- コードベース構造の把握
- 依存関係の整理
- 主要なデータフローと責務の特定

Constraints:
- 事実ベースで記述
- 根拠となるファイルや記号を明示
- 不明点は明示して区切る

Output Format:
- 概要
- 主要コンポーネント一覧
- 依存関係整理
- 影響範囲と注意点
- 追加調査項目
```

### ドキュメント生成

```text
Role:
- 技術ドキュメント作成担当

Context:
${CONTEXT}

Task:
- README または API ドキュメントを作成/更新
- 目的・利用手順・仕様を整理

Constraints:
- 既存ドキュメントと整合
- ${CONTEXT} に基づく内容のみ記載
- 実行可能なコマンド例を提示
- Markdown 形式で作成

Output Format:
- 完成した Markdown 本文
- 適用先ファイルパス
```

## 使用例

### コード生成の例

```text
Role:
- コード生成担当エンジニア
- 対象: 関数 / クラス / モジュール

Context:
${CONTEXT}

Task:
- TypeScript でリトライ付き HTTP リクエスト関数を追加
- 既存のユーティリティ構成に統合
- 必要なら関連テストを追加

Constraints:
- 依存追加は禁止
- 既存の命名規約とスタイルを踏襲
- 破壊的変更は禁止
- 実装の根拠を明示

Output Format:
- 変更ファイル一覧
- 主要コード（ファイルごと）
- 検証手順
```

### コードレビューの例

```text
Role:
- 厳格なコードレビュー担当

Context:
${CONTEXT}

Task:
- 認証フローの変更差分をレビュー
- バグとセキュリティ上の懸念を検出
- 改善提案と追加テスト案を提示

Constraints:
- 事実ベースで指摘
- 参照箇所を明記
- 重要度を分類

Output Format:
- 重要度順の指摘一覧
- 各指摘: 影響 / 根拠 / 改善案
- 追加テスト提案
```

### 分析・調査の例

```text
Role:
- 分析・調査担当

Context:
${CONTEXT}

Task:
- サービスの依存関係を整理
- 主要モジュールの責務とデータフローを特定
- 変更影響をまとめる

Constraints:
- 事実ベースで記述
- 根拠となるファイルや記号を明示
- 不明点は明示して区切る

Output Format:
- 概要
- 主要コンポーネント一覧
- 依存関係整理
- 影響範囲と注意点
- 追加調査項目
```

### ドキュメント生成の例

```text
Role:
- 技術ドキュメント作成担当

Context:
${CONTEXT}

Task:
- CLI ツールの README を作成
- 目的・インストール・使い方・設定項目を整理
- 実行例を追加

Constraints:
- ${CONTEXT} に基づく内容のみ記載
- 実行可能なコマンド例を提示
- Markdown 形式で作成

Output Format:
- 完成した Markdown 本文
- 適用先ファイルパス
```

---

*Generated by codex exec (Meta-Phase 1) on 2025-12-22*
