---
name: codex-subagent
description: "Auto-trigger when the user asks to research, design, implement, or improve a Codex subagent skill (SKILL.md), including execution modes, context handling, or guardrails."
allowed-tools:
  - Bash(codex:*)
  - Bash(timeout:*)
  - Read
  - Write
  - Glob
metadata:
  version: 0.1.0
  owner: codex
  maturity: draft
  tags: [skill, codex, subagent, agent-design]
---

## Overview
codex-subagent Skill は、SKILL.md を設計・生成するための専門テンプレートです。実行モード定義、コンテキスト整理、結果形式、ガードレールを短く実用的にまとめます。

## Quick Start
1. 目的・対象ユーザー・自動トリガー条件を確認
2. 実行モード（SINGLE/PARALLEL/COMPETITION/PIPELINE）を定義
3. Context Engineering と Result Handling を整理
4. Guardrails を明記して完成

```yaml
---
name: codex-subagent
description: "Auto-trigger when the user requests creation or updates of a Codex subagent SKILL.md."
allowed-tools:
  - Bash(codex:*)
  - Bash(timeout:*)
  - Read
  - Write
  - Glob
metadata:
  version: 0.1.0
  owner: codex
  maturity: draft
---
```

## Execution Modes
- **SINGLE**: 1つの指示に対し直線的に完結。小規模タスク向け。
- **PARALLEL**: 独立タスクを並列に収集・整理して統合。
- **COMPETITION**: 複数案を並行に作り比較し最適解を採用。
- **PIPELINE**: 収集→設計→検証→出力の段階的処理。

```bash
# モード選択の例（擬似）
MODE=PIPELINE
case "$MODE" in
  SINGLE)      echo "single-pass design" ;;
  PARALLEL)    echo "parallel discovery + merge" ;;
  COMPETITION) echo "draft A/B and select" ;;
  PIPELINE)    echo "collect -> design -> verify -> output" ;;
esac
```

## Context Engineering
- 目的・対象・制約・入力/出力を明確化
- 既存のSKILL.mdがあれば差分中心で更新
- 不明点は最小の確認質問で補完

## Result Handling
- 出力はSKILL.mdの内容のみ
- 変更点があれば理由を一言添える
- 失敗時は原因と次の一手を提示

```markdown
## Result
- Status: success
- Output: SKILL.md content only
```

## Guardrails
- 機密情報や認証情報を扱わない
- 破壊的コマンドは避ける
- 冗長な説明を避け、実用的に簡潔に書く
- 指示と矛盾する場合は確認を優先

---

*Generated by codex exec (Meta-Phase 2) on 2025-12-22*
